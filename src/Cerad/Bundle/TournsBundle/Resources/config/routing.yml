# ========================================================================
# Accounts

cerad_tourn_account_create:
    pattern:  /account/create
    defaults: { _controller: CeradTournsBundle:Account/AccountCreate:create }
#               _template    CeradTourn/Account/Create/AccountCreateIndex.html.twig
#                                                     /AccountCreateForm.html.twig
#                                                     /AccountCreateHelp.html.twig
#               _service     cerad_user.user_manager
#               _service     cerad_person.person_repository
    
# ==================================================================
# login/logout stuff works on a resource called user
# 
cerad_tourn_account_user_login:
    pattern:  /account-user/login
    defaults: { _controller: CeradTournsBundle:AccountUser/AccountUserLogin:login }
#                           @CeradTourn/AccountUser/AccountUserLoginIndex.html.twig
#                                                  /AccountUserLoginForm.html.twig
#                                                  /AccountUserLoginHelp.html.twig
cerad_tourn_account_user_login_check:
    pattern:  /account-user/check
    
cerad_tourn_account_user_logout:
    pattern:  /account-user/logout
    
# =======================================
# So should this be account password or user password?
cerad_tourn_account_password_reset_request:
    pattern:  /account-password/reset-request
    defaults: { _controller: CeradTournsBundle:AccountPassword/AccountPasswordResetRequest:request }
#                           @CeradTourn/AccountPassword/ResetRequest/AccountPasswordResetRequestIndex.html.twig
#                                                                   /AccountPasswordResetRequestForm.html.twig
#                                                                   /AccountPasswordResetRequestUpdateHelp.html.twig
    
cerad_tourn_account_password_reset_requested:
    pattern:  /account-password/reset-requested/{id}/{token}
    defaults: { _controller: CeradTournsBundle:AccountPassword/AccountPasswordResetRequested:requested, id: null, token: null }
#                           @CeradTourn/AccountPassword/ResetRequested/AccountPasswordResetRequestedIndex.html.twig
#                                                                     /AccountPasswordResetRequestedForm.html.twig
#                                                                     /AccountPasswordResetRequestedUpdateHelp.html.twig
  
# ================================================
# Here we shift to the tourns routes
# All og which start with a project slug
   
cerad_tourn_welcome:
    pattern:  /welcome
    defaults: { _controller: CeradTournsBundle:Tourns/TournsWelcome:welcome}
        
cerad_tourn_home:
    pattern:  /home
    defaults: { _controller: CeradTournsBundle:Tourns/TournsHome:home}
    
cerad_tourn_person_update:
    pattern:  /person/{personId}
    defaults: 
        _controller: CeradTournsBundle:Person/PersonUpdate:update
        _template: '@CeradTourns/Person/Update/PersonUpdateIndex.html.twig'
        personId' : 0
    
cerad_tourn_person_plan_update:
    pattern:  /person/plan/{personId}/{slug}
    defaults: 
        _controller: CeradTournsBundle:PersonPlan/PersonPlanUpdate:update
  
# =================================
# TODO: Admin Interface
cerad_tourn_admin_person_plan_update:
    pattern:  /admin/person/plan/update/{personId}/{slug}
    defaults: { _controller: CeradTournsBundle:Admin/PersonPlan/AdminPersonPlanUpdate:update }
    
cerad_tourn_admin_person_plans_list:
    pattern:  /admin/person/plans/list/{slug}.{_format}
    defaults:
        _controller: CeradTournsBundle:Admin/PersonPlans/AdminPersonPlansList:list
        _template: '@CeradTourns/Admin/PersonPlans/List/AdminPersonPlansListIndex.html.twig'
        _format: html
    requirements:
        _format:  html|csv|xls|pdf

# ==============================
# For legacy access, slug is ignored
cerad_tourns_index:
    pattern:  /{slug}
    defaults: { _controller: CeradTournsBundle:Tourns/TournsIndex:index }
    
cerad_tourn_index:
    pattern:  /
    defaults: { _controller: CeradTournsBundle:Tourns/TournsIndex:index }
