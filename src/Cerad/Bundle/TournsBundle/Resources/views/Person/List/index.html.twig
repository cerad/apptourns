{# @CeradTourns/Person/List/index.html.twig #}
{% extends '@CeradTourns/layout.html.twig' %}

{% block stylesheets %}
{{ parent() }}
<!-- DataTables CSS -->
<link rel="stylesheet" type="text/css" href="http://ajax.aspnetcdn.com/ajax/jquery.dataTables/1.9.4/css/jquery.dataTables.css">
 
<!-- jQuery -->
<script type="text/javascript" charset="utf8" src="http://ajax.aspnetcdn.com/ajax/jQuery/jquery-1.8.3.min.js"></script>
 
<!-- DataTables -->
<script type="text/javascript" charset="utf8" src="http://ajax.aspnetcdn.com/ajax/jquery.dataTables/1.9.4/jquery.dataTables.min.js"></script>
{% endblock %}{# end stylesheets block #}
 
{% block content %}
<div class="persons-list">
    <table id="persons" border="1" style="max-widthx: 850px;">
    <thead>
        <tr>
            <th colspan="3"><a href="{{ path('cerad_tourns_welcome') }}">Back to list of tournaments</a></th>
            <th colspan="1">{{ tourn.groupSub }} Officials: {{ officials | length }}</th>
            <th colspan="1"><a href="{{ path('cerad_tourns_admin_list', { 'project': project, '_format': 'xls' })}}">Generate Excel Spreadsheet</a></th>
            <th colspan="7">&nbsp;</th>
        </tr>
        <tr>
            <th>Edit</th>
            <th>Status</th>
            <th>Person Info</th>
            <th>USSF Info</th>
            <th>Plans</th>
            <th>Notes</th>
        </tr>
    </thead>
    <tbody>
    {% for official in officials %}
    {% set person = official.person %}
    <tr>
        <td style="width: 25px;">
            <a href="{{ path('cerad_tourns_admin_edit', { 'project': project, 'id': official.id })}}">{{ official.id }}</a>
        </td>
        <td>{{ official.status   }}</td>
        <td>
            {{ person.firstName }} {{ person.lastName }}<br />
            {{ person.email                        }}<br />
            {{ person.phone | cerad_person_phone   }}<br />
            {{ person.gender    }} {{ person.age   }}<br />
            {{ person.city      }} {{ person.state }}<br />
        </td>        
    </tr>
    {% endfor %}{# officials #}
    </tbody>
    </table>
</div>

{% endblock %}{# end content block #}

{% block javascripts %}
{{ parent() }}
<script type="text/javascript">
    $(document).ready(function() 
    {
        $('#officials').dataTable(
        {
            "bPaginate":     false,
            "bLengthChange": false,
            "bFilter":       false,
            "bSort":         false,
            "bInfo":         false,
            "bAutoWidth":    false            
        });
    });
</script>
{% endblock %}
